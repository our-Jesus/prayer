<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>54‑Day Rosary Novena</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Inter:wght@300;400;500;600;700&display=swap"
    rel="stylesheet" />

  <style>
    body {
      font-family: "Inter", sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }

    .prayer-text {
      font-family: "Crimson Text", serif;
      line-height: 1.7;
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.1);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb {
      background: rgba(0, 0, 0, 0.3);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: rgba(0, 0, 0, 0.5);
    }

    /* Hide default details marker */
    summary::-webkit-details-marker {
      display: none;
    }

    details[open] summary .rotate-icon {
      transform: rotate(180deg);
    }

    /* Glass morphism effect */
    .glass {
      background: rgba(255, 255, 255, 0.25);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.18);
    }

    .glass-strong {
      background: rgba(255, 255, 255, 0.35);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    /* Custom grid for day selection - optimized for 54 buttons */
    .day-grid {
      display: grid;
      gap: 0.5rem;
      grid-template-columns: repeat(6, minmax(0, 1fr));
      max-width: 100%;
      overflow: visible;
      padding: 0.5rem;
    }

    @media (min-width: 640px) {
      .day-grid {
        grid-template-columns: repeat(9, minmax(0, 1fr));
        gap: 0.625rem;
      }
    }

    @media (min-width: 768px) {
      .day-grid {
        grid-template-columns: repeat(12, minmax(0, 1fr));
        gap: 0.75rem;
      }
    }

    @media (min-width: 1024px) {
      .day-grid {
        grid-template-columns: repeat(15, minmax(0, 1fr));
        gap: 0.75rem;
      }
    }

    @media (min-width: 1280px) {
      .day-grid {
        grid-template-columns: repeat(18, minmax(0, 1fr));
        gap: 0.75rem;
      }
    }

    /* Custom animations */
    @keyframes fadeIn {
      0% {
        opacity: 0;
      }

      100% {
        opacity: 1;
      }
    }

    @keyframes slideUp {
      0% {
        opacity: 0;
        transform: translateY(20px);
      }

      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes scaleIn {
      0% {
        opacity: 0;
        transform: scale(0.95);
      }

      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    @keyframes float {

      0%,
      100% {
        transform: translateY(0px);
      }

      50% {
        transform: translateY(-10px);
      }
    }

    /* Animation classes */
    .animate-fade-in {
      animation: fadeIn 0.6s ease-out;
    }

    .animate-slide-up {
      animation: slideUp 0.5s ease-out;
    }

    .animate-scale-in {
      animation: scaleIn 0.3s ease-out;
    }

    /* Floating animation for decorative elements */
    .float-slow {
      animation: float 8s ease-in-out infinite;
    }

    /* Improved button styling for day selection */
    .day-button {
      aspect-ratio: 1;
      width: 100%;
      min-width: 2rem;
      min-height: 2rem;
      max-width: 3.5rem;
      max-height: 3.5rem;
      border-radius: 0.5rem;
      font-weight: 700;
      font-size: 0.75rem;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto;
      border: none;
      cursor: pointer;
    }

    @media (min-width: 640px) {
      .day-button {
        font-size: 0.875rem;
        border-radius: 0.75rem;
        min-width: 2.25rem;
        min-height: 2.25rem;
      }
    }

    @media (min-width: 768px) {
      .day-button {
        max-width: 4rem;
        max-height: 4rem;
      }
    }

    .day-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .day-button:active {
      transform: translateY(0);
    }

    .day-button:focus {
      outline: 2px solid transparent;
      outline-offset: 2px;
      box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5);
    }

    /* Progress indicator */
    .progress-ring {
      transition: stroke-dasharray 0.5s ease;
    }
  </style>
</head>

<body class="text-slate-800 antialiased">
  <!-- Decorative floating elements -->
  <div class="fixed inset-0 overflow-hidden pointer-events-none">
    <div class="absolute top-20 left-10 w-32 h-32 bg-white/10 rounded-full blur-xl float-slow"></div>
    <div class="absolute top-40 right-20 w-24 h-24 bg-white/5 rounded-full blur-xl float-slow"
      style="animation-delay: -2s;"></div>
    <div class="absolute bottom-40 left-1/3 w-40 h-40 bg-white/5 rounded-full blur-xl float-slow"
      style="animation-delay: -4s;"></div>
  </div>

  <header class="relative py-12 text-white">
    <!-- Home Button -->
    <div class="absolute top-6 left-6 z-20">
      <a href="https://personalprayer.netlify.app/"
        class="inline-flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm border border-white/30 rounded-full text-white hover:text-white transition-all duration-300 shadow-lg hover:shadow-xl hover:-translate-y-0.5 group">
        <svg class="w-5 h-5 transition-transform group-hover:-translate-x-0.5" fill="none" stroke="currentColor"
          viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6">
          </path>
        </svg>
        <span class="font-medium">Home</span>
      </a>
    </div>

    <div class="mx-auto max-w-6xl px-4 text-center">
      <div class="inline-flex items-center gap-3 mb-4">
        <!-- Rosary Icon -->
        <svg class="w-8 h-8 text-white/80" fill="currentColor" viewBox="0 0 24 24">
          <path
            d="M12 2C10.9 2 10 2.9 10 4s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM7.5 7.5c-.8 0-1.5.7-1.5 1.5s.7 1.5 1.5 1.5S9 9.8 9 9s-.7-1.5-1.5-1.5zm9 0c-.8 0-1.5.7-1.5 1.5s.7 1.5 1.5 1.5S18 9.8 18 9s-.7-1.5-1.5-1.5z" />
        </svg>
        <h1
          class="text-4xl sm:text-5xl lg:text-6xl font-bold tracking-tight bg-gradient-to-r from-white to-white/80 bg-clip-text text-transparent">
          54‑Day Rosary Novena
        </h1>
      </div>
      <p class="text-lg sm:text-xl text-white/90 font-light max-w-2xl mx-auto">
        A Sacred Journey of Prayer and Devotion to Our Blessed Mother
      </p>
    </div>
  </header>

  <main class="mx-auto max-w-6xl px-4 md:px-6 pb-16 -mt-8 relative z-10">
    <!-- Introduction Section -->
    <section id="introduction" class="mb-12 animate-fade-in">
      <div class="glass-strong rounded-3xl shadow-2xl overflow-hidden">
        <div class="p-8 md:p-12 space-y-8">
          <div class="text-center mb-8">
            <h2 class="text-3xl md:text-4xl font-bold text-slate-700 mb-4">
              What is the 54‑Day Novena?
            </h2>
            <div class="w-24 h-1 bg-gradient-to-r from-blue-500 to-purple-500 mx-auto rounded-full"></div>
          </div>

          <div class="grid md:grid-cols-2 gap-8 items-start">
            <div class="space-y-6">
              <details class="group">
                <summary
                  class="flex items-center justify-between cursor-pointer bg-white/50 rounded-xl p-4 hover:bg-white/70 transition-colors">
                  <span class="font-semibold text-slate-700">📿 Origin & History</span>
                  <svg class="w-5 h-5 text-slate-500 rotate-icon transition-transform" fill="none" stroke="currentColor"
                    viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                  </svg>
                </summary>
                <div class="mt-4 p-4 prayer-text text-slate-600">
                  Originated in the late 19th century in Naples, Italy, this devotion is attributed to a young girl
                  suffering from an illness thought to be incurable. Calling on Mary for help, Mary appeared to her and
                  promised her healing if she prayed three novenas. The girl did so, and was miraculously healed. In a
                  later apparition, Mary specified that the full prayer should have 3 novenas in petition, and 3 novenas
                  in thanksgiving.
                </div>
              </details>

              <details class="group">
                <summary
                  class="flex items-center justify-between cursor-pointer bg-white/50 rounded-xl p-4 hover:bg-white/70 transition-colors">
                  <span class="font-semibold text-slate-700">🌹 The Devotion</span>
                  <svg class="w-5 h-5 text-slate-500 rotate-icon transition-transform" fill="none" stroke="currentColor"
                    viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                  </svg>
                </summary>
                <div class="mt-4 p-4 prayer-text text-slate-600">
                  The 54 Day Novena consists of saying a Rosary for 54 days in a row. The first 3 novenas (27 days) are
                  said in petition – asking Mary for her prayers for a particular intention. The remaining 3 novenas (27
                  days) are in thanksgiving, whether or not you received what you brought to prayer.
                </div>
              </details>

              <details class="group">
                <summary
                  class="flex items-center justify-between cursor-pointer bg-white/50 rounded-xl p-4 hover:bg-white/70 transition-colors">
                  <span class="font-semibold text-slate-700">🙏 When to Pray</span>
                  <svg class="w-5 h-5 text-slate-500 rotate-icon transition-transform" fill="none" stroke="currentColor"
                    viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                  </svg>
                </summary>
                <div class="mt-4 p-4 prayer-text text-slate-600">
                  We pray this prayer in times of suffering, hope, and need when we can dedicate time and practice
                  patience for 54 days of praying with the Blessed Mother. Some people like to begin or end on a Marian
                  feast day, but any day will do. It's often helpful to have a prayer partner for accountability.
                </div>
              </details>
            </div>

            <div class="bg-white/40 rounded-2xl p-6">
              <h3 class="font-semibold text-slate-700 mb-4 text-center">Prayer Structure</h3>
              <div class="space-y-3">
                <div class="flex items-center gap-3">
                  <div
                    class="w-12 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-semibold text-xs">
                    1-27</div>
                  <span class="text-slate-600">Petition Days</span>
                </div>
                <div class="flex items-center gap-3">
                  <div
                    class="w-12 h-8 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center font-semibold text-xs">
                    28-54</div>
                  <span class="text-slate-600">Thanksgiving Days</span>
                </div>
                <div class="mt-4 pt-4 border-t border-white/50">
                  <p class="text-sm text-slate-600 italic text-center">
                    "Hail, Queen of the Most Holy Rosary, my Mother Mary, hail!"
                  </p>
                </div>
              </div>
            </div>
          </div>

          <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 border border-white/50">
            <h3 class="font-semibold text-slate-700 mb-3">Why Pray the 54-Day Novena?</h3>
            <p class="prayer-text text-slate-600">
              This novena is a prayer for all seasons of life. We pray to grow in relationship with Mary and trust in
              the Lord — perhaps hoping for a miracle like the young girl from Naples. However, prayer is not magic — we
              pray this devotion trusting that God's will may be done, regardless of the outcome.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Day Selection Section -->
    <section id="day-selection" class="mb-12 animate-slide-up">
      <div class="glass-strong rounded-3xl shadow-2xl overflow-hidden">
        <div class="p-8 md:p-10">
          <div class="text-center mb-8">
            <h2 class="text-3xl md:text-4xl font-bold text-slate-700 mb-4">
              Select Your Prayer Day
            </h2>
            <div class="w-24 h-1 bg-gradient-to-r from-blue-500 to-amber-500 mx-auto rounded-full mb-4"></div>
            <p class="text-slate-600">
              Petition days <span
                class="inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium">(1–27)</span>
              are blue • Thanksgiving days <span
                class="inline-flex items-center gap-1 px-2 py-1 bg-amber-100 text-amber-700 rounded-full text-sm font-medium">(28–54)</span>
              are gold
            </p>
          </div>

          <div id="day-grid" class="day-grid mb-8">
            <!-- Days will be populated by JavaScript -->
          </div>

          <!-- Progress Indicator -->
          <div class="text-center">
            <div class="inline-flex items-center gap-3 px-4 py-2 bg-white/60 rounded-full">
              <span class="text-sm text-slate-600">Your spiritual journey:</span>
              <div class="flex gap-1">
                <div class="w-2 h-2 rounded-full bg-blue-400"></div>
                <div class="w-2 h-2 rounded-full bg-blue-300"></div>
                <div class="w-2 h-2 rounded-full bg-slate-300"></div>
                <div class="w-2 h-2 rounded-full bg-amber-300"></div>
                <div class="w-2 h-2 rounded-full bg-amber-400"></div>
              </div>
              <span class="text-sm text-slate-600">54 days of prayer</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Prayer Display Section -->
    <section id="prayer-display" class="hidden animate-scale-in">
      <div class="mb-6">
        <button id="back-button"
          class="inline-flex items-center gap-2 px-6 py-3 bg-white/90 hover:bg-white text-slate-700 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 font-medium backdrop-blur-sm border border-white/50">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18">
            </path>
          </svg>
          Back to Calendar
        </button>
      </div>

      <div class="glass-strong rounded-3xl shadow-2xl overflow-hidden">
        <div class="bg-gradient-to-r from-slate-50 to-white p-6 md:p-8 border-b border-white/50">
          <h2 id="prayer-day-title" class="text-2xl md:text-3xl font-bold text-slate-700 text-center"></h2>
          <div id="prayer-subtitle" class="text-center mt-2 text-slate-600"></div>
        </div>

        <div id="prayer-content" class="p-6 md:p-8 space-y-6 max-h-[70vh] overflow-y-auto">
          <!-- Prayer content will be populated by JavaScript -->
        </div>
      </div>
    </section>
  </main>

  <footer class="bg-slate-900/20 backdrop-blur-sm text-white/80 py-6 text-center text-sm border-t border-white/10">
    <p class="mb-2">✝ Pray with devotion and trust ✝</p>
    <p class="text-white/60">May the Blessed Mother intercede for all our prayers</p>
  </footer>

  <script>
    // ---- DATA ---- (Same prayer content as original)
    const prayers = {
      standardPrayers: {
        apostlesCreed: "I believe in God, the Father Almighty, Creator of Heaven and earth; and in Jesus Christ, His only Son Our Lord, Who was conceived by the Holy Spirit, born of the Virgin Mary, suffered under Pontius Pilate, was crucified, died, and was buried. He descended into hell; the third day He rose again from the dead; He ascended into Heaven, and sitteth at the right hand of God, the Father almighty; from thence He shall come to judge the living and the dead. I believe in the Holy Spirit, the holy Catholic Church, the communion of saints, the forgiveness of sins, the resurrection of the body, and life everlasting. Amen.",
        ourFather: "Our Father, Who art in Heaven, hallowed be Thy Name. Thy Kingdom come, Thy Will be done, on earth as it is in Heaven. Give us this day our daily bread, and forgive us our trespasses, as we forgive those who trespass against us. And lead us not into temptation, but deliver us from evil. Amen.",
        hailMary: "Hail Mary, full of grace, the Lord is with thee; blessed art thou amongst women, and blessed is the fruit of thy womb, Jesus. Holy Mary, Mother of God, pray for us sinners, now and at the hour of our death. Amen.",
        gloryBe: "Glory be to the Father, and to the Son, and to the Holy Spirit. As it was in the beginning, is now, and ever shall be, world without end. Amen.",
        hailHolyQueen: "Hail, Holy Queen, Mother of Mercy, our life, our sweetness and our hope. To thee do we cry, poor banished children of Eve: to thee do we send up our sighs, mourning and weeping in this valley of tears. Turn then, most gracious Advocate, thine eyes of mercy toward us, and after this our exile, show unto us the blessed fruit of thy womb, Jesus. O clement, O loving, O sweet Virgin Mary! \n\nPray for us, O holy Mother of God, that we may be made worthy of the promises of Christ. Amen.",
        fatimaPrayer: "O my Jesus, forgive us our sins, save us from the fires of hell, lead all souls to Heaven, especially those who are in most need of Thy mercy. Amen.",
      },
      mysteriesData: {
        joyful: [
          { name: "The Annunciation", concludingPrayer: "I bind these snow-white buds with a petition for the virtue of humility and humbly lay this bouquet at thy feet." },
          { name: "The Visitation", concludingPrayer: "I bind these snow-white buds with a petition for the virtue of charity and humbly lay this bouquet at thy feet." },
          { name: "The Nativity", concludingPrayer: "I bind these snow-white buds with a petition for the virtue of detachment from the world and humbly lay this bouquet at thy feet." },
          { name: "The Presentation", concludingPrayer: "I bind these snow-white buds with a petition for the virtue of purity and humbly lay this bouquet at thy feet." },
          { name: "Finding the Child Jesus in the Temple", concludingPrayer: "I bind these snow-white buds with a petition for the virtue of obedience to the will of God and humbly lay this bouquet at thy feet." },
        ],
        sorrowful: [
          { name: "The Agony in the Garden", concludingPrayer: "I bind these blood red roses with a petition for the virtue of resignation to the will of God and humbly lay this bouquet at thy feet." },
          { name: "The Scourging at the Pillar", concludingPrayer: "I bind these blood red roses with a petition for the virtue of mortification and humbly lay this bouquet at thy feet." },
          { name: "The Crowning with Thorns", concludingPrayer: "I bind these blood red roses with a petition for the virtue of humility and humbly lay this bouquet at thy feet." },
          { name: "The Carrying of the Cross", concludingPrayer: "I bind these blood red roses with a petition for the virtue of patience in adversity and humbly lay this bouquet at thy feet." },
          { name: "The Crucifixion", concludingPrayer: "I bind these blood red roses with a petition for the virtue of love of our enemies and humbly lay this bouquet at thy feet." },
        ],
        glorious: [
          { name: "The Resurrection", concludingPrayer: "I bind these full-blown roses with a petition for the virtue of faith and humbly lay this bouquet at thy feet." },
          { name: "The Ascension", concludingPrayer: "I bind these full-blown roses with a petition for the virtue of hope and humbly lay this bouquet at thy feet." },
          { name: "The Descent of the Holy Spirit", concludingPrayer: "I bind these full-blown roses with a petition for the virtue of charity and humbly lay this bouquet at thy feet." },
          { name: "The Assumption of Mary", concludingPrayer: "I bind these full-blown roses with a petition for the virtue of union with Christ and humbly lay this bouquet at thy feet." },
          { name: "The Coronation of the Blessed Mother", concludingPrayer: "I bind these full-blown roses with a petition for the virtue of union with thee and humbly lay this bouquet at thy feet." },
        ],
      },
      opening: {
        petition: {
          joyful: "Hail, Queen of the Most Holy Rosary, my Mother Mary, hail! At thy feet I humbly kneel to offer thee a Crown of Roses, snow white buds to remind thee of thy joys, each bud recalling to thee a holy mystery, each 10 bound together with my petition for a particular grace. O Holy Queen, dispenser of God's graces, and Mother of all who invoke thee, thou canst not look upon my gift and fail to see its binding. As thou receivest my gift, so wilt thou receive my petition; from thy bounty thou wilt give me the favor I so earnestly and trustingly seek. I despair of nothing that I ask of thee. Show thyself my Mother!",
          sorrowful: "Hail, Queen of the Most Holy Rosary, my Mother Mary, hail! At thy feet I humbly kneel to offer thee a Crown of Roses, blood red roses to remind thee of the passion of thy divine Son, with Whom thou didst so fully partake of its bitterness, each rose recalling to thee a holy mystery, each 10 bound together with my petition for a particular grace. O Holy Queen, dispenser of God's graces, and Mother of all who invoke thee! Thou canst not look upon my gift and fail to see its binding. As thou receivest my gift, so wilt thou receive my petition; from thy bounty thou wilt give me the favor I so earnestly and trustingly seek. I despair of nothing that I ask of thee. Show thyself my Mother!",
          glorious: "Hail, Queen of the Most Holy Rosary, my Mother Mary, hail! At thy feet I humbly kneel to offer thee a Crown of Roses, full-blown white roses, tinged with the red of the passion, to remind thee of thy glories, fruits of the sufferings of thy Son and thee, each rose recalling to thee a holy mystery, each 10 bound together with my petition for a particular grace. O Holy Queen, dispenser of God's graces, and Mother of all who invoke thee! Thou canst not look upon my gift and fail to see its binding. As thou receivest my gift, so wilt thou receive my petition; from thy bounty thou wilt give me the favor I so earnestly and trustingly seek. I despair of nothing that I ask of thee. Show thyself my Mother!",
        },
        thanksgiving: {
          joyful: "Hail, Queen of the Most Holy Rosary, my Mother Mary, hail! At thy feet I gratefully kneel to offer thee a Crown of Roses, snow white buds to remind thee of thy joys, each bud recalling to thee a holy mystery; each ten bound together with my petition for a particular grace. O Holy Queen, Dispenser of God's graces. and Mother of all who invoke thee! thou canst not look upon my gift and fail to see its binding. As thou receivest my gift, so wilt thou receive my thanksgiving; from thy bounty thou hast given me the favor I so earnestly and trustingly sought. I despaired not of what I asked of thee, and thou hast truly shown thyself my Mother.",
          sorrowful: "Hail, Queen of the Most Holy Rosary, my Mother Mary, hail! At thy feet I gratefully kneel to offer thee a Crown of Roses blood red roses to remind thee of the passion of thy divine Son, with Whom thou didst so fully partake of its bitterness each rose recalling to thee a holy mystery; each ten bound together with my petition for a particular grace. O Holy Queen, dispenser of God's graces, and Mother of all who invoke thee! Thou canst not look upon my gift and fail to see its binding. As thou receivest my gift, so wilt thou receive my thanksgiving; from thy bounty thou hast given me the favor I so earnestly and trustingly sought. I despaired not of what I asked of thee, and thou hast truly shown thyself my Mother.",
          glorious: "Hail, Queen of the Most Holy Rosary, my Mother Mary, hail! At thy feet I gratefully kneel to offer thee a Crown of Roses full blown white roses, tinged with the red of the passion, to remind thee of thy glories, fruits of the sufferings of thy Son and thee each rose recalling to thee a holy mystery; each ten bound together with my petition for a particular grace. O Holy Queen, dispenser of God s graces, and Mother of all who invoke thee! thou canst not look upon my gift and fail to see its binding. As thou receivest my gift, so wilt thou receive my thanksgiving; from thy bounty thou hast given me the favor I so earnestly and trustingly sought. I despaired not of what I asked of thee, and thou hast truly shown thyself my Mother.",
        },
      },
      closing: {
        petition: "Sweet Mother Mary, I offer thee this spiritual communion to bind my bouquets in a wreath to place upon thy brow. O my Mother! Look with favor upon my gift, and in thy love obtain for me my request.",
        thanksgiving: "Sweet Mother Mary, I offer thee this Spiritual Communion to bind my bouquets in a wreath to place upon thy brow in thanksgiving for my request which thou in thy love hast obtained for me.",
      },
    };

    // ---- DOM ELEMENTS ----
    const dayGrid = document.getElementById("day-grid");
    const daySelectionSection = document.getElementById("day-selection");
    const prayerDisplaySection = document.getElementById("prayer-display");
    const prayerContentDiv = document.getElementById("prayer-content");
    const prayerDayTitle = document.getElementById("prayer-day-title");
    const prayerSubtitle = document.getElementById("prayer-subtitle");
    const backButton = document.getElementById("back-button");
    const introductionSection = document.getElementById("introduction");

    // ---- HELPER FUNCTIONS ----
    const mysteryInfo = {
      joyful: {
        color: "from-blue-50 to-blue-100",
        border: "border-blue-200",
        accent: "bg-blue-500",
        icon: "🌸",
        description: "Snow-white buds of joy"
      },
      sorrowful: {
        color: "from-rose-50 to-rose-100",
        border: "border-rose-200",
        accent: "bg-rose-500",
        icon: "🌹",
        description: "Blood-red roses of passion"
      },
      glorious: {
        color: "from-amber-50 to-amber-100",
        border: "border-amber-200",
        accent: "bg-amber-500",
        icon: "🏵️",
        description: "Full-blown roses of glory"
      },
    };

    function createPrayerSection(title, content, mystery, isSpecial = false) {
      const info = mysteryInfo[mystery];
      const div = document.createElement("div");
      div.className = `rounded-2xl bg-gradient-to-br ${info.color} border ${info.border} shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl ${isSpecial ? 'ring-2 ring-offset-2 ring-blue-300' : ''}`;

      div.innerHTML = `
          <div class="flex items-center gap-3 p-4 bg-white/60 border-b ${info.border}">
            <div class="w-8 h-8 ${info.accent} rounded-full flex items-center justify-center text-white text-sm font-bold">
              ${info.icon}
            </div>
            <h3 class="font-semibold text-slate-800 flex-1">${title}</h3>
          </div>
          <div class="p-6">
            <div class="prayer-text text-slate-700 leading-relaxed">${content}</div>
          </div>
        `;

      return div;
    }

    function displayDayPrayers(day) {
      const isPetition = day <= 27;
      const dayType = isPetition ? "petition" : "thanksgiving";
      const mysteries = ["joyful", "sorrowful", "glorious"];
      const mysteryKey = mysteries[(day - 1) % 3];
      const mysteryName = mysteryKey[0].toUpperCase() + mysteryKey.slice(1);
      const mysteryData = prayers.mysteriesData[mysteryKey];
      const info = mysteryInfo[mysteryKey];

      // Update titles
      prayerDayTitle.textContent = `Day ${day} • ${isPetition ? "Petition" : "Thanksgiving"}`;
      prayerSubtitle.innerHTML = `
          <div class="inline-flex items-center gap-2 px-4 py-2 bg-white/80 rounded-full">
            <span class="text-2xl">${info.icon}</span>
            <span class="font-medium">${mysteryName} Mysteries</span>
            <span class="text-sm text-slate-500">• ${info.description}</span>
          </div>
        `;

      prayerContentDiv.innerHTML = "";

      // Opening Prayer
      prayerContentDiv.appendChild(
        createPrayerSection(
          `Opening Prayer - ${mysteryName} ${dayType.charAt(0).toUpperCase() + dayType.slice(1)}`,
          prayers.opening[dayType][mysteryKey].replace(/\n/g, "<br>"),
          mysteryKey,
          true
        )
      );

      // Introductory Prayers
      const introHTML = `
          <div class="space-y-4">
            <div class="bg-white/60 rounded-lg p-4">
              <h4 class="font-semibold text-slate-700 mb-2">The Apostles' Creed</h4>
              <p class="text-slate-600">${prayers.standardPrayers.apostlesCreed}</p>
            </div>
            <div class="bg-white/60 rounded-lg p-4">
              <h4 class="font-semibold text-slate-700 mb-2">Our Father</h4>
              <p class="text-slate-600">${prayers.standardPrayers.ourFather}</p>
            </div>
            <div class="bg-white/60 rounded-lg p-4">
              <h4 class="font-semibold text-slate-700 mb-2">Hail Mary (3 times)</h4>
              <p class="text-slate-600">${prayers.standardPrayers.hailMary}</p>
              <p class="text-sm text-slate-500 mt-2 italic">Pray this prayer two more times.</p>
            </div>
            <div class="bg-white/60 rounded-lg p-4">
              <h4 class="font-semibold text-slate-700 mb-2">Glory Be</h4>
              <p class="text-slate-600">${prayers.standardPrayers.gloryBe}</p>
            </div>
          </div>`;

      prayerContentDiv.appendChild(
        createPrayerSection("Introductory Prayers", introHTML, mysteryKey)
      );

      // Five Decades
      mysteryData.forEach((mystery, i) => {
        const decadeHTML = `
            <div class="space-y-4">
              <div class="text-center py-3 bg-white/80 rounded-lg">
                <h4 class="font-semibold text-slate-700 text-lg">${mystery.name}</h4>
              </div>
              <div class="grid md:grid-cols-2 gap-4">
                <div class="bg-white/60 rounded-lg p-4">
                  <h5 class="font-medium text-slate-700 mb-2">Our Father</h5>
                  <p class="text-sm text-slate-600">Pray one Our Father</p>
                </div>
                <div class="bg-white/60 rounded-lg p-4">
                  <h5 class="font-medium text-slate-700 mb-2">Hail Mary (10x)</h5>
                  <p class="text-sm text-slate-600">Pray ten Hail Marys</p>
                </div>
                <div class="bg-white/60 rounded-lg p-4">
                  <h5 class="font-medium text-slate-700 mb-2">Glory Be</h5>
                  <p class="text-sm text-slate-600">Pray one Glory Be</p>
                </div>
                <div class="bg-white/60 rounded-lg p-4">
                  <h5 class="font-medium text-slate-700 mb-2">Fatima Prayer</h5>
                  <p class="text-sm text-slate-600">${prayers.standardPrayers.fatimaPrayer}</p>
                </div>
              </div>
              <div class="bg-gradient-to-r from-white/80 to-white/60 rounded-lg p-4 border-l-4 ${info.border}">
                <p class="italic text-slate-700 font-medium">${mystery.concludingPrayer}</p>
              </div>
            </div>`;

        prayerContentDiv.appendChild(
          createPrayerSection(`${i + 1}. ${mystery.name}`, decadeHTML, mysteryKey)
        );
      });

      // Concluding Prayers
      prayerContentDiv.appendChild(
        createPrayerSection(
          "Hail Holy Queen",
          `<div class="bg-white/60 rounded-lg p-4">${prayers.standardPrayers.hailHolyQueen.replace(/\n/g, "<br>")}</div>`,
          mysteryKey
        )
      );

      prayerContentDiv.appendChild(
        createPrayerSection(
          `Closing Prayer - ${dayType.charAt(0).toUpperCase() + dayType.slice(1)}`,
          prayers.closing[dayType].replace(/\n/g, "<br>"),
          mysteryKey,
          true
        )
      );

      // Show prayer display, hide other sections
      introductionSection.classList.add("hidden");
      daySelectionSection.classList.add("hidden");
      prayerDisplaySection.classList.remove("hidden");
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function showDaySelection() {
      prayerDisplaySection.classList.add("hidden");
      introductionSection.classList.remove("hidden");
      daySelectionSection.classList.remove("hidden");
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    // ---- INITIALIZE DAY BUTTONS ----
    for (let i = 1; i <= 54; i++) {
      const isPetition = i <= 27;
      const button = document.createElement("button");
      button.textContent = i;
      button.dataset.day = i;

      const colorClasses = isPetition
        ? "day-button bg-gradient-to-br from-blue-400 to-blue-600 text-white hover:from-blue-500 hover:to-blue-700"
        : "day-button bg-gradient-to-br from-amber-400 to-amber-600 text-white hover:from-amber-500 hover:to-amber-700";

      button.className = colorClasses;
      button.addEventListener("click", () => displayDayPrayers(i));
      dayGrid.appendChild(button);
    }

    // Back button event listener
    backButton.addEventListener("click", showDaySelection);

    // Add keyboard navigation
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && !prayerDisplaySection.classList.contains("hidden")) {
        showDaySelection();
      }
    });
  </script>
</body>

</html>